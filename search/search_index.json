{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Welcome to Wulf-Forge","text":"<p>Wulf-Forge is the central documentation hub for the reverse engineering, server emulation, and modding tools for Wulfram. This project aims to modernize the game with custom servers, updated client mods, and new asset pipelines.</p>"},{"location":"#project-architecture","title":"Project Architecture","text":"<p>TBD</p>"},{"location":"packets/tank/","title":"Packet 0x18: Tank State","text":"<p>Direction: Server  Client (Likely) Opcode: <code>0x18</code> (24) Size: Variable (Depends on Vitals flags)</p> <p>This packet updates the spatial and physical state of a specific tank unit (Unit Type) identified by a <code>Net ID</code>. It includes position, velocity, and optional \"vitals\" data (health, energy, weapon state) that are bit-packed for efficiency.</p>"},{"location":"packets/tank/#packet-structure","title":"Packet Structure","text":"<p>The packet consists of a fixed header, a variable-length bitfield section for stats, and a fixed tail for physics.</p>"},{"location":"packets/tank/#1-high-level-layout","title":"1. High-Level Layout","text":"Data Type Field Name Description <code>byte</code> Header Always <code>0x18</code> <code>int32</code> Timestamp Server ticks (synchronization) <code>bits</code> Vitals Block Variable length bit-stream (see below) <code>int32</code> Unit Type The hull/model ID of the tank <code>int32</code> Net ID Unique Network ID of the object <code>byte</code> Flags State flags (status effects, etc.) <code>vec3</code> Position X, Y, Z world coordinates <code>vec3</code> Velocity X, Y, Z motion vectors"},{"location":"packets/tank/#the-vitals-bit-stream","title":"\ud83e\uddec The Vitals Bit-Stream","text":"<p>This section is bit-packed. It starts with a single Presence Bit. If that bit is <code>0</code>, the parser skips to <code>Unit Type</code>. If <code>1</code>, it reads the following compressed data.</p> <p>Implicit Schema</p> <p>The Firing Mask and Extras fields do not have their own presence bits in the packet! The receiver must know to expect them based on the <code>tank_cfg</code> (likely tied to the <code>Unit Type</code>).</p> <pre><code>flowchart TD\n    Start((Start Bit Stream)) --&gt; HasVitals{Read 1 Bit&lt;br&gt;Has Vitals?}\n\n    HasVitals -- 0 --&gt; End((End Bit Stream))\n    HasVitals -- 1 --&gt; Weapon[Read 5 Bits&lt;br&gt;Weapon ID]\n\n    Weapon --&gt; Health[Read 10 Bits&lt;br&gt;Health Mult]\n    Health --&gt; Energy[Read 10 Bits&lt;br&gt;Energy Mult]\n\n    Energy --&gt; CheckMask{Config:&lt;br&gt;Has Firing Mask?}\n\n    CheckMask -- No --&gt; CheckExtra{Config:&lt;br&gt;Has Extras?}\n    CheckMask -- Yes --&gt; Mask[Read 13 Bits&lt;br&gt;Firing Mask]\n    Mask --&gt; CheckExtra\n\n    CheckExtra -- No --&gt; End\n    CheckExtra -- Yes --&gt; ExtraA[Read 8 Bits&lt;br&gt;Extra A]\n    ExtraA --&gt; ExtraB[Read 8 Bits&lt;br&gt;Extra B]\n    ExtraB --&gt; End\n\n    style HasVitals fill:#f9f,stroke:#333,stroke-width:2px\n    style CheckMask fill:#bbf,stroke:#333,stroke-dasharray: 5 5\n    style CheckExtra fill:#bbf,stroke:#333,stroke-dasharray: 5 5</code></pre>"}]}